<div class="container">
  <div class="container-titulo">
    <div class="innertitulo">
      <h3>Casos De Estudios.</h3>
    </div>
  </div>
  <div class="main">
    <div
      class="alto-filas"
      [ngClass]="getColorClass('borde')"
    >
      <div
        *ngFor="let proyecto of proyectoService.getProyectos(); let i = index"
        class="fila"
        [ngClass]="{ visible: i < proyectoService.getFilasVisibles() }"
      >
        <div class="columna col-flex1">
          
          <ng-container *ngIf="!proyectoService.getProyectos().length; else proyectosTemplate">
 
            <p>No hay proyectos disponibles.</p>
          </ng-container>
          <ng-template #proyectosTemplate>
            <div class="imagen-proyecto">
              <img [src]="proyectoService.getImageUrl(proyecto.img)" alt="Imagen del proyecto">
              <div class="overlay">
                <a href="{{ proyecto.link }}" class="ver-proyecto-link" target="_blank">
                  <i class='bx bx-link-alt' ></i> Ver el proyecto en vivo
                </a>
              </div>
            </div>
          </ng-template> 
        </div>

        <div class="columna col-flex2">
          <div class="container-textos">
            <h3>{{ proyecto.nombre }}</h3>
            <p>Tecnología: {{ proyecto.tecnologia }}</p>
            <p>{{ proyecto.descripcion }}</p>
            <div class="btn-cover">
              <button
                class="detalle-proyecto"
                (click)="redirectToDetallesProyecto(proyecto.id)"
              >
                <p>Detalle De Proyecto</p>
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- Aquí se agregarán las filas y columnas de proyectos -->
    </div>

    <div class="footer">

      <div class="container-proyectos-sin-abrir">
        <div class="proyectos-sin-abrir-indicador">
          <div class="numero-circulo" [ngClass]="getColorClass('background')">
            {{ proyectosSinAbrir }}

            <div class="flecha-abajo" [hidden]="proyectosSinAbrir <= 0"></div>
          </div>

          <div class="estilo-sutil">Proyectos Por Ver</div>
        </div>
      </div>

      <div
        *ngIf="
          mostrarCargarUno &&
          proyectoService.getFilasVisibles() <
            proyectoListaService.getProyectoData().length
        "
        class="cargar-mas"
        (click)="cargarUnoMas()"
      >
        Cargar Siguiente

         <!-- Agregar un margen al elemento que contiene el texto -->
         <div style="margin-right: 10px;"></div>
      </div>
      <div
        *ngIf="
          !mostrarTodasLasFilas &&
          proyectoService.getFilasVisibles() <
            proyectoListaService.getProyectoData().length
        "
        class="cargar-mas"
        (click)="cargarMasFilas()"
      >
        Cargar Más Proyectos
      </div>
      <div
        *ngIf="mostrarTodasLasFilas"
        class="cargar-mas"
        (click)="mostrarMenosFilas()"
      >
        Ocultar Proyectos
      </div>
    </div>
  </div>
</div>
